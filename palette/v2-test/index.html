<meta charset="UTF-8">
<title>Colors</title>
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-342D6M2MKX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-342D6M2MKX');
</script>
</head>
<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=0" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js?1"></script>
<link href="https://erichsia7.github.io/colors/c2_512.png" sizes="512x512" rel="apple-touch-icon-precomposed" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<!--<meta name="apple-mobile-web-app-status-bar-style" content="black" />-->
<meta name="theme-color" content="#fff">
<link type="image/x-icon" href="https://erichsia7.github.io/colors/c2_ico.ico" rel="icon" />
<link type="image/x-icon" href="https://erichsia7.github.io/colors/c2_ico.ico" rel="bookmark" />
<link type="image/x-icon" href="https://erichsia7.github.io/colors/c2_ico.ico" rel="shortcut icon" />
<link rel="manifest" href="manifest.json?qpipoo">


<style>
.oe {
  position:fixed;
  top:55px;
  left:0px;
  width:100%;
  height:calc(100% - 55px);
  overflow:hidden;
  background:#e3e3e3;
}
.bx {
  width:100%;
  height:100%;
  background:rgba(0,0,0,0);
  position:absolute;
  top:0px;
  left:0px;
  transition-timing-function: ease;
}
.bx[h="top"] {
  left:-100%;
  /*background:#ff0000;*/
}
.bx[h="medium"] {
  left:0%;
}
.bx[h="bottom"] {
  left:100%;
  /*background:#fff000*/
}
.vd {
  position:absolute;
  top:0px;
  left:0px;
  width:100%;
  height:100%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size:30px;
}
.rdbx {
  position:absolute;
  top:0px;
  left:0px;
  height:9px;
  width:100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.rdb {
  width:100%;
  height:9px;
  border-radius:12px;
  position:relative;
  /*
  background:rgba(0,0,0,0.35);
  -webkit-backdrop-filter:invert(100%);
  backdrop-filter:invert(100%);
  opacity:1
  */
}
.rd {
  height:9px;
  position:absolute;
  top:0px;
  left:0px;
  display: flex;
  justify-content: center;
  align-items: center;
  transition:0.05s;
  min-width:9px;
}
.rdp {
  background:rgba(250,250,250,0.8);
  border-radius:12px;
  -webkit-backdrop-filter:invert(100%);
  backdrop-filter:invert(100%);
  width:calc(100% - 4px);
  height:calc(100% - 6px);
  min-width:5px;
}
.rdo {
  width:calc(100% - 4px);
  height:calc(100% - 6px);
  background:rgba(0,0,0,0);
  border-radius:12px;
  position:absolute;
  -webkit-backdrop-filter: grayscale(100%);
  backdrop-filter: progid:DXImageTransform.Microsoft.BasicImage(grayscale=1);
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  opacity:1;
  min-width:5px;
}
.ti {
  background:#fff;
  position:fixed;
  top:0px;
  left:0px;
  width:100%;
  height:55px;
  box-shadow: 0 0 15px 1px rgba(0, 0, 0, 0.05);
  -webkit-user-select: none;
      -webkit-appearance:none;
outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);
}

.back {
  background:url(https://erichsia7.github.io/colors/arrow-right.png);
  background-size:20px;
  background-position:center;
  background-repeat:no-repeat;
    width:55px;
  height:55px;
  position:fixed;
  top:0px;
  left:0px;
  transform:rotate(180deg);
  -webkit-appearance:none;
outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);
  -webkit-user-select: none;
}
</style>
<div class="oe">
<div class="bx" h="top">
  <div class="vd"></div>
  <div class="gd"></div>
</div>
  <div class="bx" h="medium">
  <div class="vd"></div>
  <div class="gd"></div>
</div>
 <div class="bx" h="bottom">
  <div class="vd"></div>
  <div class="gd"></div>
</div>
  <div class="rdbx">
    <div class="rdb">
      <div class="rd">
<div class="rdp"></div>
<div class="rdo"></div>
</div>
    </div>
    
    
    </div>
</div>
<div class="ti">
<div class="back"></div>
</div>
<script>
    var getUrlString = location.href;
var url = new URL(getUrlString);
var dt = url.searchParams.get('dt') ;
var cs = atob(url.searchParams.get('cs')) ;

  
  function genid(mode) {
if(mode === "random"){
var genidchars = "0123456789abcdefghijklmnopqrstuvwxyz";
            var genid = "";
            for (var i = 0; i < 16; i++) {
                var genrandomNumber = Math.floor(Math.random() * genidchars.length);
                genid += genidchars.substring(genrandomNumber, genrandomNumber + 1);
            }
  return genid ;
}
          
 if(mode === "time"){
   var gtoday=new Date();
   var genid2 = (gtoday.getMonth()+1) + '_' + gtoday.getDate() + '_' + gtoday.getHours() + '_' + gtoday.getMinutes() + '_' + gtoday.getSeconds() + '-' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8));
   
   return genid2
 }
  
  if(mode === "number"){
   
   var genid3 = '' ;
for (var i = 0; i < 16; i++) {
  genid3 += '' + (0+Math.floor(Math.random() * 9))
}
   return genid3
 }
  
  if(mode === "uuid"){
var genidchars4 = "abcdef012345678";
    var geniduu = [8,4,4,4,12];
            var genid4 = "";
            var genid5 = "";
    for (var ia = 0; ia < geniduu.length; ia++) {
      var genid4 = "";
            for (var i = 0; i < geniduu[ia]; i++) {
                var genrandomNumber4 = Math.floor(Math.random() * genidchars4.length);
                genid4 += genidchars4.substring(genrandomNumber4, genrandomNumber4 + 1);
            }
genid5 += '-' + genid4 ;
    }
    return genid5.substring(1,genid5.length)
  }

}
  
  
  
let getMode=e=>{let t={};e.forEach(e=>{t[e]=(t[e]||0)+1});let l=0,r=[];for(let e in t)if(t[e]>l?(l=t[e],r=[e]):t[e]===l&&r.push(e),r.length===Object.keys(t).length)return[];return r};
  
  
  
function componentToHex(c) {
  var hex = c.toString(16);
  return hex.length == 1 ? "0" + hex : hex;
}

function rgbToHex(r, g, b) {
  return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
}
function hexToRgb(hex) {
  var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
  return result ? {
    r: parseInt(result[1], 16),
    g: parseInt(result[2], 16),
    b: parseInt(result[3], 16)
  } : null;
}
function rgbtocmyk(r, g, b, normalized){
    var c = 1 - (r / 255);
    var m = 1 - (g / 255);
    var y = 1 - (b / 255);
    var k = Math.min(c, Math.min(m, y));
    
    c = (c - k) / (1 - k);
    m = (m - k) / (1 - k);
    y = (y - k) / (1 - k);
    
    if(!normalized){
        c = Math.round(c * 10000) / 100;
        m = Math.round(m * 10000) / 100;
        y = Math.round(y * 10000) / 100;
        k = Math.round(k * 10000) / 100;
    }
    
    c = isNaN(c) ? 0 : c;
    m = isNaN(m) ? 0 : m;
    y = isNaN(y) ? 0 : y;
    k = isNaN(k) ? 0 : k;
    
    return {
        c: c,
        m: m,
        y: y,
        k: k,
        cmykstr:c + ',' + m + ',' + y + ',' + k
    }
}

function rgbtohsv(r, g, b) {
    let rabs, gabs, babs, rr, gg, bb, h, s, v, diff, diffc, percentRoundFn;
    rabs = r / 255;
    gabs = g / 255;
    babs = b / 255;
    v = Math.max(rabs, gabs, babs),
    diff = v - Math.min(rabs, gabs, babs);
    diffc = c => (v - c) / 6 / diff + 1 / 2;
    percentRoundFn = num => Math.round(num * 100) / 100;
    if (diff == 0) {
        h = s = 0;
    } else {
        s = diff / v;
        rr = diffc(rabs);
        gg = diffc(gabs);
        bb = diffc(babs);

        if (rabs === v) {
            h = bb - gg;
        } else if (gabs === v) {
            h = (1 / 3) + rr - bb;
        } else if (babs === v) {
            h = (2 / 3) + gg - rr;
        }
        if (h < 0) {
            h += 1;
        }else if (h > 1) {
            h -= 1;
        }
    }
    return {
        h: Math.round(h * 360),
        s: percentRoundFn(s * 100),
        v: percentRoundFn(v * 100),
        hsvstr: Math.round(h * 360) + ',' + percentRoundFn(s * 100) + ',' + percentRoundFn(v * 100)
    };
}





function rgbtohsl(r,g,b){
    var rgbArr = [r,g,b]
    var r1 = rgbArr[0] / 255;
    var g1 = rgbArr[1] / 255;
    var b1 = rgbArr[2] / 255;
 
    var maxColor = Math.max(r1,g1,b1);
    var minColor = Math.min(r1,g1,b1);
    //Calculate L:
    var L = (maxColor + minColor) / 2 ;
    var S = 0;
    var H = 0;
    if(maxColor != minColor){
        //Calculate S:
        if(L < 0.5){
            S = (maxColor - minColor) / (maxColor + minColor);
        }else{
            S = (maxColor - minColor) / (2.0 - maxColor - minColor);
        }
        //Calculate H:
        if(r1 == maxColor){
            H = (g1-b1) / (maxColor - minColor);
        }else if(g1 == maxColor){
            H = 2.0 + (b1 - r1) / (maxColor - minColor);
        }else{
            H = 4.0 + (r1 - g1) / (maxColor - minColor);
        }
    }
 
    L = L * 100;
    S = S * 100;
    H = H * 60;
    if(H<0){
        H += 360;
    }
    
    return {
        h: H,
        s: S,
        l: L,
        hslstr: H + ',' + S + ',' + L
    };;
}
  
  
  
  
var colorsstr = cs ;
var colorsarr = colorsstr.split(',')
  
if(dt === '1') {
  
}
  else {
    location.replace('https://erichsia7.github.io/colors/palette/v2-test/?dt=1&cs=I2ZmZmZmZg==&r=' + genid('random'))
  }
if(cs === '') {
  location.replace('https://erichsia7.github.io/colors/palette/v2-test/?dt=1&cs=I2ZmZmZmZg==&r=' + genid('random'))
}


var idlist = colorsarr
var nw = 0
var ftop = idlist[nw]
var fmedium = idlist[nw]
var fbottom = idlist[nw+1]
var canslide = true
var transitionsec = '0.28s'
var rds
var el = document.querySelectorAll('.bx')[1]
var touchm = false ;
var ft = 0
var ofty = 0
var mouseX = 0
var mouseY = 0
var offsetX = 0
var offsetY = 0
var tsta
var tstb
var ge = document.querySelector('.bx')
function txco(hx) {
  var thsoo = hexToRgb(hx)
  console.log(hx)
  console.log(thsoo)
  if((thsoo.r+thsoo.g+thsoo.b)/3 > 128) {
    return '#000'
  }
  else {
    return '#fff'
  }
}
function upd(ty,my,by) {
$('.bx[h="top"] .vd').css({'background':ty,'background-size': 'cover','background-position': 'center','background-repeat': 'no-repeat','color':txco(ty)}).text(ty)
$('.bx[h="medium"] .vd').css({'background':my,'background-size': 'cover','background-position': 'center','background-repeat': 'no-repeat','color':txco(my)}).text(my)
$('.bx[h="bottom"] .vd').css({'background':by,'background-size': 'cover','background-position': 'center','background-repeat': 'no-repeat','color':txco(by)}).text(by)

  
}
function acd() {
  $('.bx[h="top"]').css({'transform':'translateX(' + (0) + 'px)','transition':'0s'})
    $('.bx[h="medium"]').css({'transform':'translateX(' + (0) + 'px)','transition':'0s'})
$('.bx[h="bottom"]').css({'transform':'translateX(' + (0) + 'px)','transition':'0s'})
  
  
}
function dw() {
  document.removeEventListener('transitionend',dw)
  if(nw<idlist.length-1) {
    nw +=1
    canslide = true
  }
  else {
    canslide = false
  }
  ftop = idlist[nw-1]
  fmedium = idlist[nw]
  fbottom = idlist[nw+1]
  acd()
  upd(ftop,fmedium,fbottom)
}

function pu() {
  document.removeEventListener('transitionend',pu)
  
  if(nw>0) {
    nw -=1
    canslide = true
  }
  else {
    canslide = false
  }
  ftop = idlist[nw-1]
  fmedium = idlist[nw]
  fbottom = idlist[nw+1]
  acd()
  upd(ftop,fmedium,fbottom)
}


upd(ftop,fmedium,fbottom)

  
  $.extend($.support, { touch: "ontouchend" in document });
 
 var eventlistenert = ['touchstart','touchmove','touchend'] ;
 if($.support.touch) {
  eventlistenert = ['touchstart','touchmove','touchend'] ;
 }
 else {
  eventlistenert = ['mousedown','mousemove','mouseup'] ;
 }


$('.rd').width($('.rdb').width()/idlist.length)
$(window).resize(function() {
  $('.rd').width($('.rdb').width()/idlist.length)
})
function rdf() {
var rdtra = (($('.bx[h="medium"]').width()*(nw-1))+($('.bx[h="medium"]').width()-$('.bx[h="medium"]').offset().left))/($('.bx[h="medium"]').width()*idlist.length)*$('.rdb').width()
if(rdtra < 0) {
rdtra = 0
}
if(rdtra > $('.rdb').width()-$('.rd').width()) {
rdtra = $('.rdb').width()-$('.rd').width()
}
  $('.rd').css({'transform':'translateX(' + rdtra + 'px)'})
}
rds = setInterval(rdf,1)

function uee(e) {
  $('.bx').css({'transform':'translateX(0px)'})
  mouseY = 0
}

function mo(e) {
  e.preventDefault();
  pagy= e.pageX-mouseX
  
  if(pagy > $('.bx[h="medium"]').width()) {
    pagy = $('.bx[h="medium"]').width()
  }
  if(pagy < (0-$('.bx[h="medium"]').width())) {
    pagy = (0-$('.bx[h="medium"]').width())
  }
  
  
$('.bx[h="top"]').css({'transform':'translateX(' + (pagy) + 'px)'})
$('.bx[h="medium"]').css({'transform':'translateX(' + (pagy) + 'px)'})
$('.bx[h="bottom"]').css({'transform':'translateX(' + (pagy) + 'px)'})
 
  
  
  if(nw > 0 && nw < idlist.length-1) {
    pagy= e.pageX-mouseX
}
  else {
if(nw<1 &&  $('.bx[h="medium"]').offset().left >0) {
$('.bx').css({'transform':'translateX(' + (0) + 'px)'})
}
    
if(nw>(idlist.length-2) &&  $('.bx[h="medium"]').offset().left <-1) {
$('.bx').css({'transform':'translateX(' + (0) + 'px)'})
}
    
}
  
}
el.addEventListener(eventlistenert[0],function(e) {
  e.preventDefault();
  
  tsta = new Date()
  touchm = true
  mouseX = e.pageX
  mouseY = e.pageY-$('.bx[h="medium"]').offset().top
$('.bx[h="top"]').css({'transition':'0s'})
$('.bx[h="medium"]').css({'transition':'0s'})
$('.bx[h="bottom"]').css({'transition':'0s'})

  el.addEventListener(eventlistenert[1],mo,{passive: true});
},{passive: true});

el.addEventListener(eventlistenert[2],function(e) {
  e.preventDefault();
  tstb = new Date()
  transitionsec = (1-(Math.abs($('.bx[h="medium"]').offset().left)/$('.bx[h="medium"]').width()))*0.6 + 's'
  
  
  if(touchm) {
  offsetX += e.pageX - mouseX
  offsetY += e.pageY - mouseY
  }
  touchm = false
   
  
if($('.bx[h="medium"]').offset().left < (0-($('.bx[h="medium"]').width()*0.23))) {
 $('.bx[h="medium"]').css({'transform':'translateX(-100%)','transition':transitionsec})
  
  $('.bx[h="bottom"]').css({'transform':'translateX(-100%)','transition':transitionsec})
 
  //down
  
  document.addEventListener('transitionend',dw)
  
  //downend
}
else {

  
  if($('.bx[h="medium"]').offset().left > (($('.bx[h="medium"]').width()*0.23))) {
    $('.bx[h="medium"]').css({'transform':'translateX(100%)','transition':transitionsec})
    $('.bx[h="top"]').css({'transform':'translateX(100%)','transition':transitionsec})
   
    //td
    
    document.addEventListener('transitionend',pu)
    //upend
  }
  else {
    $('.bx[h="top"]').css({'transform':'translateX(' + (0) + 'px)','transition':transitionsec})
    $('.bx[h="medium"]').css({'transform':'translateX(' + (0) + 'px)','transition':transitionsec})
$('.bx[h="bottom"]').css({'transform':'translateX(' + (0) + 'px)','transition':transitionsec})

  }
  

}


      
document.removeEventListener(eventlistenert[1],mo)
},{passive: true});
</script>




<script>
// left: 37, up: 38, right: 39, down: 40,
// spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36
var keys = {37: 1, 38: 1, 39: 1, 40: 1};

function preventDefault(e) {
  e.preventDefault();
}

function preventDefaultForScrollKeys(e) {
  if (keys[e.keyCode]) {
    preventDefault(e);
    return false;
  }
}

// modern Chrome requires { passive: false } when adding event
var supportsPassive = false;
try {
  window.addEventListener("test", null, Object.defineProperty({}, 'passive', {
    get: function () { supportsPassive = true; } 
  }));
} catch(e) {}

var wheelOpt = supportsPassive ? { passive: false } : false;
var wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';

// call this to Disable
function disableScroll() {
  window.addEventListener('DOMMouseScroll', preventDefault, false); // older FF
  window.addEventListener(wheelEvent, preventDefault, wheelOpt); // modern desktop
  window.addEventListener('touchmove', preventDefault, wheelOpt); // mobile
  window.addEventListener('keydown', preventDefaultForScrollKeys, false);
}

// call this to Enable
function enableScroll() {
  window.removeEventListener('DOMMouseScroll', preventDefault, false);
  window.removeEventListener(wheelEvent, preventDefault, wheelOpt); 
  window.removeEventListener('touchmove', preventDefault, wheelOpt);
  window.removeEventListener('keydown', preventDefaultForScrollKeys, false);
}

disableScroll();
</script>
