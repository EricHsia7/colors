 <meta charset="UTF-8">
<title>Colors Favorite</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.0/masonry.pkgd.min.js"></script>
<link href="https://erichsia7.github.io/colors/c2_512.png" sizes="512x512" rel="apple-touch-icon-precomposed" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="defualt" />
<link type="image/x-icon" href="https://erichsia7.github.io/colors/c2_ico.ico" rel="icon" />
<link type="image/x-icon" href="https://erichsia7.github.io/colors/c2_ico.ico" rel="bookmark" />
<link type="image/x-icon" href="https://erichsia7.github.io/colors/c2_ico.ico" rel="shortcut icon" />
<link rel="manifest" href="https://erichsia7.github.io/colors/manifest.json?qa">
<style>
 @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400,500,700&display=swap');
:root {
  --loading-grey: #ededed;
}
  * {outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);}
body {
  background-color: #fff;
  margin:0px;
  padding:0px;
}

.card {
  width: calc(50vw - 30px);
  background-color: #fff;
  border-radius: 15px;
  overflow: hidden;
  position:relative;
  margin:10px;
  min-width:180px;
 border:1px #e3e3e3 solid;
 transform:translateX(5px);
}
.card .image {
  width:100%;
  height:120px;
  position:relative;
}
.content {
  padding: 2rem 1.8rem;
  position:relative;
}

h4 {
  margin: 0 0 1rem;
  font-size: 1.5rem;
  line-height: 1.5rem;
  position:relative;
 font-family: 'Noto Sans TC', sans-serif;
  font-weight:700;
}

.description {
  font-size: 1rem;
  line-height: 1.4rem;
  position:relative;
  min-height: 38px;
  
}
.description a {
text-decoration:none;
  color:#000;
  background:#f5f5f5;
  padding:8px;
  margin:0px;
  border-radius:99em;
  position:absolute;
  top:0px;
 font-family: 'Noto Sans TC', sans-serif;
  font-weight:400;
}
.loading .image,
.loading h4,
.loading .description {
  background-color: var(--loading-grey);
  background: linear-gradient(
    100deg,
    rgba(255, 255, 255, 0) 40%,
    rgba(255, 255, 255, .5) 50%,
    rgba(255, 255, 255, 0) 60%
  ) var(--loading-grey);
  background-size: 200% 100%;
  background-position-x: 180%;
  animation: 1s loading ease-in-out infinite;
}

@keyframes loading {
  to {
    background-position-x: -20%;
  }
}

.loading h4 {
  min-height: 1.6rem;
  border-radius: 4px;
  animation-delay: .05s;
}

.loading .description {
  min-height: 38px;
  border-radius: 4px;
  animation-delay: .06s;
}
 #cardbox {
padding-bottom:100px
}
 
 .cl2 {
  background:rgba(250,250,250,0.8) url(https://erichsia7.github.io/colors/close2.png);
}
 .de3 {
  background:rgba(250,250,250,0.8) url(https://erichsia7.github.io/colors/delete.png);
}
   .btn {
  background-size:25px;
  background-position:center;
  background-repeat:no-repeat;
  border-radius:99em;
  font-weight:medium;
  font-family: 'Noto Sans TC', sans-serif;
  font-size:1.3rem;
  display: flex;
  justify-content: center;
  align-items: center;
  color:#333;
  width:45px;
  height:45px;
 }
 #fmenu {
  position:fixed;
  left:50%;
  bottom:30px;
  transform:translateX(-50%);
  width:120px;
  height:45px;
}
.lle {
  float:left;
  margin-left:10px;
}
   .ladbar {
background:#000;
position:fixed;
top:0px;
left:0px;
width:0px;
height:2px;
transition:width 0.3s ,background 0s;
}
 #cardbox {
  background:rgba(0, 0, 0, 0);
 }
  @media (prefers-color-scheme: dark) {
    body {
    background:#1a1a1a;
  }
   .lle {
  float:left;
  margin-left:10px;
  filter: invert(100%);
}
   .ladbar {
background:#fff;
}
 }
</style>
<div id="cardboxlo"></div>
<div id="cardbox"></div>

<div id="fmenu">
 <div class="de3 lle btn"></div>
 <div class="cl2 lle btn"></div>
</div>



<div class="ladbar"></div>
<script>
lade = 0 ;
function ladbaradd() {
lade += 5+Math.floor(Math.random() * 2) ;
$('.ladbar').css({'width':lade + '%'});
if(lade > 80) {
clearInterval(ladbar);
}
}
ladbaradd();
var ladbar = setInterval(ladbaradd,300);

$(document).ready(function() {
setTimeout(function() {
clearInterval(ladbar);
$('.ladbar').css({'width':'105%','transition':'0.7s'});
},1000);

setTimeout(function() {
$('.ladbar').css({'opacity':'0'});
},1500);

setTimeout(function() {
$('.ladbar').css({'display':'none'});
},2300);
});
</script>
      <script>
function genid(mode) {
if(mode === "random"){
var genidchars = "0123456789abcdefghijklmnopqrstuvwxyz";
            var genid = "";
            for (var i = 0; i < 16; i++) {
                var genrandomNumber = Math.floor(Math.random() * genidchars.length);
                genid += genidchars.substring(genrandomNumber, genrandomNumber + 1);
            }
  return genid ;
}
          
 if(mode === "time"){
   var gtoday=new Date();
   var genid2 = (gtoday.getMonth()+1) + '_' + gtoday.getDate() + '_' + gtoday.getHours() + '_' + gtoday.getMinutes() + '_' + gtoday.getSeconds() + '-' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8));
   
   return genid2
 }
  
  if(mode === "number"){
   
   var genid3 = '' ;
for (var i = 0; i < 16; i++) {
  genid3 += '' + (0+Math.floor(Math.random() * 9))
}
   return genid3
 }
  
  if(mode === "uuid"){
var genidchars4 = "abcdef012345678";
    var geniduu = [8,4,4,4,12];
            var genid4 = "";
            var genid5 = "";
    for (var ia = 0; ia < geniduu.length; ia++) {
      var genid4 = "";
            for (var i = 0; i < geniduu[ia]; i++) {
                var genrandomNumber4 = Math.floor(Math.random() * genidchars4.length);
                genid4 += genidchars4.substring(genrandomNumber4, genrandomNumber4 + 1);
            }
genid5 += '-' + genid4 ;
    }
    return genid5.substring(1,genid5.length)
  }

}
function componentToHex(c) {
  var hex = c.toString(16);
  return hex.length == 1 ? "0" + hex : hex;
}

function rgbToHex(r, g, b) {
  return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
}
function hexToRgb(hex) {
  var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
  return result ? {
    r: parseInt(result[1], 16),
    g: parseInt(result[2], 16),
    b: parseInt(result[3], 16)
  } : null;
}


function getCookie(cname)
{
  var name = cname + "=";
  var ca = document.cookie.split(';');
  for(var i=0; i<ca.length; i++) 
  {
    var c = ca[i].trim();
    if (c.indexOf(name)==0) return c.substring(name.length,c.length);
  }
  return "";
}
function setcookie(cookiename,cookievalue) {
document.cookie = cookiename + '=' + cookievalue + '; max-age='+60*60*24*7 + '; path=/';
}
       
function resize() {
  if($(window).width() > 400 && $(window).width() <= 750) {
      $('.card').width(($(window).width()/2)-30);
  }
  if($(window).width() <= 400) {
      $('.card').width('calc(100% - 30px)');
  }
   if($(window).width() > 750) {
$('.card').width(($(window).width()/3)-30);
}
 $('#cardbox').masonry({
                itemSelector: '.card',
                columnWidth: 10, //gap
                animate: false,
                horizontalOrder: true,
                originTop: true
            });
}
       
$( window ).resize(function() {
  resize();
});


function loading() {
 $('#cardboxlo').html('');
 for (var ljg = 0; ljg < 32; ljg++) {
 $('#cardboxlo').prepend('<div class="card loading" dp="lo" style="background:' + '#fff' + ';color:' + '#000' + '" type="col"><div class="content"><h4>' + '&nbsp' + '</h4><div class="description">&nbsp</div></div></div>');
}
 if($(window).width() > 400 && $(window).width() <= 750) {
      $('.card[dp="lo"]').width(($(window).width()/2)-30);
  }
  if($(window).width() <= 400) {
      $('.card[dp="lo"]').width('calc(100% - 30px)');
  }
   if($(window).width() > 750) {
$('.card[dp="lo"]').width(($(window).width()/3)-30);
}
 $('#cardboxlo').masonry({
                itemSelector: '.card[dp="lo"]',
                columnWidth: 10, //gap
                animate: false,
                horizontalOrder: true,
                originTop: true
            });
}
function start() {
 $('#cardbox,#cardboxlo').html('');
var favcolorss = getCookie('colorfav1').substring(1,getCookie('colorfav1').length).split('&') ;
  for (var ffpp = 0; ffpp < favcolorss.length; ffpp++) {
   if(favcolorss[ffpp].indexOf('li') != -1) {
    
    var grdddli = favcolorss[ffpp].split(']') ;
    var gdege = grdddli[1] ;
    var gacce = grdddli[2] ;
    var gbcce = grdddli[3] ;
    var bgree = 'linear-gradient(' + gdege + 'deg ,' +  gacce + ' 0%,' +  gbcce + ' 100%)' ;
    if((hexToRgb(gacce).r+hexToRgb(gacce).g+hexToRgb(gacce).b+hexToRgb(gbcce).r+hexToRgb(gbcce).g+hexToRgb(gbcce).b)/6 > 128) {
      var gdzcolor = '#000' ;
    }
    else {
      var gdzcolor = '#fff' ;
    }
    $('#cardbox').prepend('<div class="card" style="background:' + bgree + ';color:' + gdzcolor + '" type="grd"><div class="content"><h4>' + gdege + ',' +  gacce + ',' +  gbcce + '</h4><div class="description"><a href="' + 'https://erichsia7.github.io/colors/?s=2&ga=' + btoa(gacce) + '&gb=' + btoa(gbcce) + '&gdeg=' + gdege + '&open=fav&r=' + genid('random') + '">查看漸層</a></div></div></div>');
   }
   else {
    
 if((hexToRgb(favcolorss[ffpp]).r+hexToRgb(favcolorss[ffpp]).g+hexToRgb(favcolorss[ffpp]).b)/3 > 128) {
var tgzcolor = '#000' ;
}
    else {
      var tgzcolor = '#fff' ;
    }
    $('#cardbox').prepend('<div class="card" style="background:' + favcolorss[ffpp] + ';color:' + tgzcolor + '" type="col"><div class="content"><h4>' + favcolorss[ffpp] + '</h4><div class="description"><a href="' + 'https://erichsia7.github.io/colors/?s=1&c=' + btoa(favcolorss[ffpp]) + '&open=fav&r=' + genid('random') + '">查看顏色</a></div></div></div>');

   }
  }
 resize();
}
       loading();
       setTimeout(start,3000);
 //setInterval(start,3000);  
$('.cl2').click(function() {
    location.href = 'https://erichsia7.github.io/colors/?r=' + genid('random') ;
});
       $('.de3').click(function() {
    setcookie('colorfav1','');
        location.href = 'https://erichsia7.github.io/colors/favorite/?r=' + genid('random') ;
});
       

    </script>
